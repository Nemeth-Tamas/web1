<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>NBV - Contact Us</title>
        <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
            rel="stylesheet"
            integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
            crossorigin="anonymous"
        />
        <link rel="stylesheet" href="contact.css" />
    </head>
    <body>
        <nav class="navbar navbar-expand-lg bg-body-tertiary">
            <div class="container-fluid">
                <a class="navbar-brand" href="/">NBV</a>
                <button
                    class="navbar-toggler"
                    type="button"
                    data-bs-toggle="collapse"
                    data-bs-target="#navbarNavAltMarkup"
                    aria-controls="navbarNavAltMarkup"
                    aria-expanded="false"
                    aria-label="Toggle navigation"
                >
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
                    <div class="navbar-nav">
                        <a class="nav-link" aria-current="page" href="/"
                            >Home</a
                        >
                        <a class="nav-link" href="/user.html">My Account</a>
                        <a class="nav-link" href="/about.xhtml">About</a>
                        <a class="nav-link active" href="/contact.html"
                            >Contact Us</a
                        >
                    </div>
                </div>
            </div>
        </nav>

        <section class="container">
            <h1
                class="h1-responsive font-weight-bold text-center my-4 text-light"
            >
                Contact us
            </h1>

            <p class="text-center w-responsive mx-auto mb-5 text-light">
                Do you have any questions? Please do not hesitate to contact us
                directly. Our team will come back to you within a matter of
                hours to help you.
            </p>

            <div class="row bg-glassmorphism pl-3 pt-3 pr-3 mb-3 rounded">
                <div class="col-12 col-lg-9">
                    <div class="row">
                        <div class="col-12 col-lg-6">
                            <div class="form-floating mb-3">
                                <input
                                    type="text"
                                    class="form-control shadow-sm"
                                    id="floatingInputName"
                                    placeholder="John Doe"
                                    maxlength="100"
                                />
                                <label for="floatingInputName">Your name</label>
                            </div>
                        </div>
                        <div class="col-12 col-lg-6">
                            <div class="form-floating mb-3">
                                <input
                                    type="email"
                                    class="form-control shadow-sm"
                                    id="floatingInputEmail"
                                    placeholder="name@example.com"
                                    maxlength="100"
                                />
                                <label for="floatingInputEmail"
                                    >Your email</label
                                >
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col">
                            <div class="form-floating mb-3">
                                <input
                                    type="text"
                                    class="form-control shadow-sm"
                                    id="floatingInputSubject"
                                    placeholder="Subject"
                                    maxlength="200"
                                />
                                <label for="floatingInputSubject"
                                    >Subject</label
                                >
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col">
                            <div class="form-floating">
                                <textarea
                                    class="form-control shadow-sm"
                                    placeholder="Leave a message here"
                                    id="floatingTextareaMessage"
                                    style="height: 100px"
                                    maxlength="1000"
                                ></textarea>
                                <label for="floatingTextareaMessage"
                                    >Message</label
                                >
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col">
                            <div class="form-check form-check-inline mt-3">
                                <input
                                    class="form-check-input"
                                    checked
                                    type="radio"
                                    name="inlineRadioOptions"
                                    id="inlineRadioHelpRequired"
                                    value="help"
                                />
                                <label
                                    class="form-check-label"
                                    for="inlineRadioHelpRequired"
                                    >Help</label
                                >
                            </div>
                            <div class="form-check form-check-inline">
                                <input
                                    class="form-check-input"
                                    type="radio"
                                    name="inlineRadioOptions"
                                    id="inlineRadioQuestion"
                                    value="question"
                                />
                                <label
                                    class="form-check-label"
                                    for="inlineRadioQuestion"
                                    >Question</label
                                >
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col">
                            <div class="form-check">
                                <input
                                    class="form-check-input"
                                    type="checkbox"
                                    value=""
                                    id="flexCheckDefaultEULA"
                                />
                                <label
                                    class="form-check-label"
                                    for="flexCheckDefaultEULA"
                                >
                                    Accept
                                    <a href="#" class="termslink"
                                        >Terms and Conditions</a
                                    >
                                </label>
                            </div>
                        </div>
                    </div>

                    <div class="row mt-3 mb-3">
                        <div class="col">
                            <button
                                type="button"
                                class="btn btn-primary shadow-sm"
                                id="send"
                            >
                                Send
                            </button>
                            <button
                                type="button"
                                class="btn btn-danger shadow-sm"
                                id="reset"
                            >
                                Reset
                            </button>
                        </div>
                    </div>
                </div>
                <div class="col-12 col-lg-3">
                    <p class="m-0">
                        <span class="fw-bold">Phone: </span>555-555-5555
                    </p>
                    <p class="m-0">
                        <span class="fw-bold">Email: </span>info@example.com
                    </p>
                    <a href="./img/nbvsmalllogoog.jpg" target="_blank">
                        <img
                            src="./img/nbvsmalllogo.jpg"
                            alt="NBV ásvány ékszer logo"
                            lang="hu"
                            class="img-fluid mt-3 mb-3 logo-img"
                        />
                    </a>
                </div>
            </div>
        </section>

        <footer class="py-3 bg-glassmorphism">
            <ul class="nav justify-content-center border-bottom pb-3 mb-3">
                <li class="nav-item">
                    <a href="/" class="nav-link px-2 text-body">Home</a>
                </li>
                <li class="nav-item">
                    <a href="/about.xhtml" class="nav-link px-2 text-body"
                        >About</a
                    >
                </li>
                <li class="nav-item">
                    <a href="/contact.html" class="nav-link px-2 text-body"
                        >Contact Us</a
                    >
                </li>
                <li class="nav-item">
                    <a
                        href="https://www.facebook.com/NBVAsvanyEkszer"
                        class="nav-link px-2 text-body"
                        target="_blank"
                        lang="hu"
                        >NBV Ásvány Ékszer</a
                    >
                </li>
            </ul>
            <p class="text-center text-body">© 2023 Company, Inc</p>
        </footer>

        <script
            src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
            crossorigin="anonymous"
        ></script>

        <script>
            const resetButton = document.getElementById("reset");
            resetButton.addEventListener("click", () => {
                document.getElementById("floatingInputName").value = "";
                document.getElementById("floatingInputEmail").value = "";
                document.getElementById("floatingInputSubject").value = "";
                document.getElementById("floatingTextareaMessage").value = "";
                document.getElementById(
                    "inlineRadioHelpRequired"
                ).checked = true;
                document.getElementById("flexCheckDefaultEULA").checked = false;
            });

            const sendButton = document.getElementById("send");
            sendButton.addEventListener("click", () => {
                let name = document.getElementById("floatingInputName").value;
                let email = document.getElementById("floatingInputEmail").value;
                let subject = document.getElementById(
                    "floatingInputSubject"
                ).value;
                let message = document.getElementById(
                    "floatingTextareaMessage"
                ).value;
                let helpOrQuestion = document.querySelector(
                    'input[name="inlineRadioOptions"]:checked'
                ).value;
                let eula = document.getElementById(
                    "flexCheckDefaultEULA"
                ).checked;

                console.log("Name: " + name);
                console.log("Email: " + email);
                console.log("Subject: " + subject);
                console.log("Message: " + message);
                console.log("Help or Question: " + helpOrQuestion);
                console.log("EULA: " + eula);

                if (
                    !name ||
                    !email ||
                    !subject ||
                    !message ||
                    !helpOrQuestion ||
                    !eula
                ) {
                    // if not, show error message
                    alert(
                        "Please fill out all fields and accept the terms and conditions."
                    );
                    return;
                }

                // if yes, send data to server
                const formData = new FormData();
                formData.append("name", name);
                formData.append("email", email);
                formData.append("subject", subject);
                formData.append("message", message);
                formData.append("helpOrQuestion", helpOrQuestion);
                formData.append("eula", eula);

                fetch("/submit-form", {
                    method: "POST",
                    body: formData,
                })
                    .then((response) => {
                        if (!response.ok) {
                            throw new Error("Network response was not ok");
                        }
                        alert("Form submitted successfully!");
                        resetButton.click();
                    })
                    .catch((error) => {
                        console.error(
                            "There was a problem submitting the form:",
                            error
                        );
                        alert(
                            "There was a problem submitting the form. Please try again later."
                        );
                    });
            });
        </script>
    </body>
</html>
